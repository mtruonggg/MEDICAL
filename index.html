<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Thi Lu·∫≠t RP & Ph·ªèng v·∫•n HR Medic</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f7fb;
      margin: 0;
      padding: 0;
      color: #333;
    }
    header {
      background: #2c3e50;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      border-bottom: 4px solid #3498db;
    }
    .container {
      max-width: 900px;
      margin: 20px auto;
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    h2 {
      color: #2c3e50;
      margin-top: 30px;
    }
    .question {
      margin-bottom: 20px;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: #fafafa;
    }
    .options label {
      display: block;
      margin: 5px 0;
      cursor: pointer;
    }
    textarea {
      width: 100%;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      margin-top: 10px;
      resize: vertical;
    }
    button {
      display: block;
      width: 100%;
      padding: 12px;
      margin-top: 20px;
      background: #3498db;
      color: white;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      background: #2980b9;
    }
    #result {
      margin-top: 25px;
      padding: 15px;
      border-radius: 8px;
      font-size: 18px;
      font-weight: bold;
      background: #ecf0f1;
    }
  </style>
</head>
<body>
  <header>üìã Thi Lu·∫≠t RP & Ph·ªèng V·∫•n HR Medic</header>
  <div class="container">
    <form id="quizForm"></form>
    <button type="button" onclick="submitQuiz()">N·ªôp b√†i</button>
    <div id="result"></div>
  </div>

  <script>
    // ======== Ph·∫ßn 1: Tr·∫Øc nghi·ªám (25 c√¢u, m·ªói c√¢u 1 ƒëi·ªÉm) ========
    const questions = [
      {q:"FearRP nghƒ©a l√† g√¨?", options:["Kh√¥ng ƒë∆∞·ª£c l√†m li·ªÅu khi b·ªã ƒëe d·ªça m·∫°ng s·ªëng","Kh√¥ng s·ª£ ai trong RP","ƒê∆∞·ª£c ph√©p ch·ªëng l·∫°i d√π nguy hi·ªÉm"], correct:0},
      {q:"NLR (New Life Rule) l√†:", options:["Sau khi ch·∫øt qu√™n to√†n b·ªô t√¨nh hu·ªëng tr∆∞·ªõc ƒë√≥","Nh·ªõ l·∫°i m·ªçi th·ª© sau khi ch·∫øt","ƒê∆∞·ª£c h·ªìi sinh v√† ti·∫øp t·ª•c ƒë√°nh nhau"], correct:0},
      {q:"RDM l√† h√†nh vi n√†o?", options:["Gi·∫øt ng∆∞·ªùi kh√¥ng l√Ω do","Gi·∫øt ng∆∞·ªùi trong t·ª± v·ªá","Gi·∫øt theo k·ªãch b·∫£n"], correct:0},
      {q:"VDM nghƒ©a l√† g√¨?", options:["D√πng xe c√°n ng∆∞·ªùi kh√¥ng RP","ƒêua xe h·ª£p ph√°p","ƒê·ªó xe sai ch·ªó"], correct:0},
      {q:"Meta Gaming l√† g√¨?", options:["D√πng OOC info v√†o IC","D√πng IC info v√†o OOC","N√≥i chuy·ªán trong Discord"], correct:0},
      {q:"Power Gaming l√†:", options:["L√†m ƒëi·ªÅu phi logic, √©p ng∆∞·ªùi kh√°c kh√¥ng c√≥ quy·ªÅn l·ª±a ch·ªçn","ƒê√≥ng vai nh√¢n v·∫≠t h·ª£p l√Ω","RP t√¨nh hu·ªëng ƒë√∫ng lu·∫≠t"], correct:0},
      {q:"Bug Abuse l√†:", options:["L·ª£i d·ª•ng l·ªói game ƒë·ªÉ c√≥ l·ª£i","B√°o l·ªói cho admin","Kh√¥ng s·ª≠ d·ª•ng bug"], correct:0},
      {q:"Combat Logging l√†:", options:["Tho√°t game khi ƒëang RP combat","RP combat h·ª£p l√Ω","AFK trong game"], correct:0},
      {q:"Mix OOC/IC l√† g√¨?", options:["N√≥i chuy·ªán OOC trong IC ho·∫∑c ng∆∞·ª£c l·∫°i","Gi·ªØ IC t√°ch bi·ªát OOC","Kh√¥ng d√πng voice chat"], correct:0},
      {q:"Trolling trong RP l√†:", options:["G√¢y r·ªëi, ph√° RP ng∆∞·ªùi kh√°c","Gi√∫p ƒë·ª° newbie","RP nghi√™m t√∫c"], correct:0},
      {q:"Cop Baiting l√†:", options:["C·ªë t√¨nh ch·ªçc c·∫£nh s√°t ƒë·ªÉ b·ªã b·∫Øt","RP ph·∫°m t·ªôi h·ª£p l√Ω","Tu√¢n th·ªß lu·∫≠t IC"], correct:0},
      {q:"Fail RP l√†:", options:["Di·ªÖn kh√¥ng h·ª£p logic, kh√¥ng ƒë√∫ng lu·∫≠t RP","RP ƒë√∫ng lu·∫≠t","Tu√¢n th·ªß k·ªãch b·∫£n"], correct:0},
      {q:"IC l√† g√¨?", options:["In Character - h√†nh ƒë·ªông trong vai","Out of Character","In Combat"], correct:0},
      {q:"OOC l√† g√¨?", options:["Out of Character - ngo√†i vai","In Character","Off Of Combat"], correct:0},
      {q:"Metagaming qua Discord l√†:", options:["D√πng voice Discord b√°o info IC","N√≥i chuy·ªán b√¨nh th∆∞·ªùng","Kh√¥ng RP"], correct:0},

      {q:"Nhi·ªám v·ª• ch√≠nh c·ªßa Medic l√† g√¨?", options:["C·ª©u ch·ªØa ng∆∞·ªùi ch∆°i, h·ªó tr·ª£ y t·∫ø","Tham gia b·∫Øn nhau","ƒêi b·∫Øt t·ªôi ph·∫°m"], correct:0},
      {q:"Medic c√≥ ƒë∆∞·ª£c ph√©p mang v≈© kh√≠ kh√¥ng?", options:["Kh√¥ng ƒë∆∞·ª£c mang v≈© kh√≠","ƒê∆∞·ª£c mang s√∫ng ng·∫Øn","ƒê∆∞·ª£c mang t·∫•t c·∫£"], correct:0},
      {q:"Khi g·∫∑p tai n·∫°n giao th√¥ng, Medic c·∫ßn l√†m g√¨ ƒë·∫ßu ti√™n?", options:["ƒê·∫£m b·∫£o an to√†n hi·ªán tr∆∞·ªùng","B·∫Øt th·ªß ph·∫°m","B·ªè qua"], correct:0},
      {q:"Medic c√≥ ƒë∆∞·ª£c ∆∞u ti√™n v∆∞·ª£t ƒë√®n ƒë·ªè?", options:["C√≥, khi ƒëang l√†m nhi·ªám v·ª• kh·∫©n c·∫•p","Kh√¥ng bao gi·ªù","Ch·ªâ khi c√≥ police h·ªô t·ªëng"], correct:0},
      {q:"Tr√°ch nhi·ªám c·ªßa Medic khi revive l√† g√¨?", options:["H·ªó tr·ª£ b·ªánh nh√¢n RP h·ªìi t·ªânh","B·ªè m·∫∑c sau revive","L·∫•y ti·ªÅn r·ªìi b·ªè ƒëi"], correct:0},
      {q:"Khi b·ªánh nh√¢n t·ª≠ vong RP, Medic ph·∫£i:", options:["Tu√¢n th·ªß NLR, coi nh∆∞ ch·∫øt h·∫≥n","Revive ngay l·∫≠p t·ª©c","G·ªçi admin"], correct:0},
      {q:"Khi g·∫∑p v·ª• vi·ªác ph·∫°m ph√°p, Medic:", options:["Ch·ªâ h·ªó tr·ª£ y t·∫ø, kh√¥ng can thi·ªáp ph√°p lu·∫≠t","B·∫Øt gi·ªØ t·ªôi ph·∫°m","RP b·∫Øn tr·∫£"], correct:0},
      {q:"Giao ti·∫øp trong l√∫c c·ª©u ch·ªØa ph·∫£i:", options:["L·ªãch s·ª±, chuy√™n nghi·ªáp","Ch·ªçc gh·∫πo","B·ªè qua b·ªánh nh√¢n"], correct:0},
      {q:"Khi nhi·ªÅu ng∆∞·ªùi b·ªã th∆∞∆°ng, Medic ∆∞u ti√™n:", options:["Ng∆∞·ªùi b·ªã th∆∞∆°ng n·∫∑ng nh·∫•t","Ng∆∞·ªùi quen","Ai tr·∫£ ti·ªÅn tr∆∞·ªõc"], correct:0},
      {q:"Medic c√≥ ƒë∆∞·ª£c tham gia Crime RP kh√¥ng?", options:["Kh√¥ng ƒë∆∞·ª£c","ƒê∆∞·ª£c, n·∫øu kh√¥ng ai bi·∫øt","Lu√¥n ƒë∆∞·ª£c"], correct:0},
    ];

    // ======== Ph·∫ßn 2: T√¨nh hu·ªëng t·ª± lu·∫≠n (t·ªïng 5 c√¢u = 5 ƒëi·ªÉm) ========
    const scenarios = [
      {q:"B·∫°n l√† Medic, g·∫∑p tai n·∫°n c√≥ 3 ng∆∞·ªùi b·∫•t t·ªânh c√πng l√∫c, b·∫°n x·ª≠ l√Ω th·∫ø n√†o?", key:["∆∞u ti√™n","ng∆∞·ªùi n·∫∑ng","g·ªçi h·ªó tr·ª£","b√°o radio"]},
      {q:"N·∫øu b·ªánh nh√¢n kh√¥ng h·ª£p t√°c RP khi b·∫°n c·ª©u ch·ªØa, b·∫°n l√†m g√¨?", key:["nh·∫Øc nh·ªü","b√°o admin","gi·ªØ RP","kh√¥ng b·ªè m·∫∑c"]},
      {q:"B·∫°n th·∫•y ƒë·ªìng nghi·ªáp Medic vi ph·∫°m FailRP, b·∫°n x·ª≠ l√Ω ra sao?", key:["nh·∫Øc nh·ªü","b√°o HR","b√°o c·∫•p tr√™n","x·ª≠ l√Ω ƒë√∫ng quy ƒë·ªãnh"]},
      {q:"Trong tr∆∞·ªùng h·ª£p b·ªã t·ªôi ph·∫°m kh·ªëng ch·∫ø khi ƒëi l√†m nhi·ªám v·ª•, b·∫°n n√™n l√†m g√¨?", key:["fearrp","h·ª£p t√°c","kh√¥ng ch·ªëng","gi·ªØ an to√†n"]},
      {q:"N·∫øu m·ªôt b·ªánh nh√¢n g·ªçi b·∫°n ƒë·∫øn c·∫•p c·ª©u nh∆∞ng sau ƒë√≥ n√≥i 'kh√¥ng c·∫ßn n·ªØa', b·∫°n x·ª≠ l√Ω th·∫ø n√†o?", key:["t√¥n tr·ªçng","ghi nh·∫≠n","x√°c nh·∫≠n","k·∫øt th√∫c nhi·ªám v·ª•"]}
    ];

    // Render c√¢u h·ªèi
    function renderQuiz() {
      const form = document.getElementById("quizForm");
      let html = "";

      questions.forEach((q, i) => {
        html += `<div class="question">
          <p><b>C√¢u ${i+1}:</b> ${q.q}</p>
          <div class="options">`;
        q.options.forEach((opt, j)=>{
          html += `<label><input type="radio" name="q${i}" value="${j}"> ${String.fromCharCode(65+j)}. ${opt}</label>`;
        });
        html += `</div></div>`;
      });

      html += `<h2>Ph·∫ßn 2: C√¢u h·ªèi t√¨nh hu·ªëng</h2>`;
      scenarios.forEach((s, i)=>{
        html += `<div class="question">
          <p><b>T√¨nh hu·ªëng ${i+1}:</b> ${s.q}</p>
          <textarea name="scenario${i}" rows="3" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi..."></textarea>
        </div>`;
      });

      form.innerHTML = html;
    }

    function gradeEssay(answer, keywords) {
      let points = 0;
      const ans = answer.toLowerCase();
      keywords.forEach(k=>{
        if(ans.includes(k)) points += 1;
      });
      return Math.min(points, 1); // m·ªói c√¢u t·ª± lu·∫≠n t·ªëi ƒëa 1 ƒëi·ªÉm
    }

    function submitQuiz() {
      let score = 0;

      // Tr·∫Øc nghi·ªám
      questions.forEach((q,i)=>{
        const ans = document.querySelector(`input[name="q${i}"]:checked`);
        if(ans && parseInt(ans.value) === q.correct) score++;
      });

      // T·ª± lu·∫≠n
      let essayScore = 0;
      scenarios.forEach((s, i)=>{
        const ans = document.querySelector(`textarea[name="scenario${i}"]`).value;
        if(ans.trim() !== "") {
          essayScore += gradeEssay(ans, s.key);
        }
      });

      const total = score + essayScore;
      document.getElementById("result").innerHTML = 
        ` Tr·∫Øc nghi·ªám: <b>${score}/25</b> ƒëi·ªÉm<br>
          T·ª± lu·∫≠n: <b>${essayScore}/5</b> ƒëi·ªÉm<br>
          T·ªïng ƒëi·ªÉm: <b>${total}/30</b>`;
    }

    renderQuiz();
  </script>
</body>
</html>
